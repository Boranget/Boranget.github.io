---
title: 南京大学计算机科学实验
date: 2023-07-08 17:02:30
tags:
  - linux
categories:
  - 笔记
---

# 开发环境配置

- 非root用户使用sudo执行命令，需将其添加到sudo中，使用命令

  ```bash
  su -
  add username sudo
  exit
  ```

  重启之后生效

- 在修改镜像的过程中，原教程操作为

  ```shell
  sudo echo "deb http://mirrors.tuna.tsinghua.edu.cn/debian/ stable main" > /etc/apt/sources.list
  ```

  虽然使用了sudo，但仍然会报权限问题，经查找，得知该段指令会被分为两步运行，echo 会使用sudo执行，但 > 会使用非sudo身份。

  第一种解决方案（避免使用su）

  ```shell
  sudo su -c "echo "deb http://mirrors.tuna.tsinghua.edu.cn/debian/ stable main" > /etc/apt/sources.list"
  ```

  第二种（更安全）

  ```shell
  echo "deb http://mirrors.tuna.tsinghua.edu.cn/debian/ stable main"|sudo tee /etc/apt/sources.list
  ```

- 安装中文输入法

  放弃安装搜狗拼音输入法，安装了谷歌拼音

- gdb

  gcc 编译的时候带上 -g 参数，

  gdb hello 进入调试

  b 4 在第四行设置断点

  print i 输出当前 i 的值

  n 下一步

  c 继续执行

- tmux
  - 所有操作前缀 Ctrl + b
  - 上下拆分窗口 前缀+”
  - 左右拆分 前缀+%
  - 查看当前会话 tmux ls
  - 根据编号连接会话 tmux attach -t 编号
  - 根据编号删除会话 tmux kill-session -t 编号
  - 前缀+方向键 切换窗口
  - 前缀按住不放+方向键 调整大小
  - 前缀+! 关闭当前会话中的其他窗口
  - 前缀+[ 进入翻页模式，q退出翻页

- nano 编辑器

  git commit 进入了nano编辑器，ctrl+x保存，之后回车退出

- 依赖问题

  由于依赖过于复杂而难以解决可以使用aptitude依赖管理软件

  - 安装

    sudo apt install aptitude

  - 通过依赖管理器安装软件

    sudo aptitude install build-essential

  - 通常第一次给出的方案是放弃，选择 n，接着第二次一般是降级方案，选择 y

  最后还是选择了22.02系统版本

- make menuconfig  出现的问题

  bison no such ......

  安装bison 和 flex

- 安装vmtools

  **卸载旧版本**

  进入安装vmtools的目录，进入bin目录，执行

  ```bash
  sudo ./vmware-uninstall-tools.pl
  ```

  **安装新版本**

  ```bash
  sudo apt-get update
  sudo apt-get install open-vm-tools open-vm-tools-desktop
  sudo vmware-user //开启服务
  ```

- 修改git地址

  ```makefile
  # git clone -b $2 git@github.com:$1.git $3
      git clone -b $2 https://github.com/$1.git $3
  
  ```

- bz2文件解压

  ```bash
  tar -xf archive.tar.bz2
  ```

- make

  -j4 4个线程同时编译

- ccache

  ```bash
  apt-get install ccache
  # 编辑 ~/。bashrc 添加
  export PATH="/usr/lib/ccache:${PATH}"
  ```

  

